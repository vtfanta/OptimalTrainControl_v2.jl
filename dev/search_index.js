var documenterSearchIndex = {"docs":
[{"location":"problem/#Problem-Statement","page":"Problem Statement","title":"Problem Statement","text":"","category":"section"},{"location":"problem/","page":"Problem Statement","title":"Problem Statement","text":"The optimal train control problem which is solved by this package is mathematically formulated as","category":"page"},{"location":"problem/","page":"Problem Statement","title":"Problem Statement","text":"mathrmmin J=mathrmmin intlimits_0^X left( fracu+u2 + rhofracu-u2 right)mathrmdx","category":"page"},{"location":"problem/","page":"Problem Statement","title":"Problem Statement","text":"subject to the constraints","category":"page"},{"location":"problem/","page":"Problem Statement","title":"Problem Statement","text":"begingather*\nt = frac1vquad v = fracu-r(v)+g(x)v\nt(0) = 0quad t(X) = T\nv(0) = v_iquad v(X) = v_f\noverbarU(v) leq u leq underbarU(v)\nendgather*","category":"page"},{"location":"problem/","page":"Problem Statement","title":"Problem Statement","text":"In other words, calculate control signal u subject to the dynamical system (the constraints on the first line above) and the boundary constraints given by initial speed v_i, final speed v_f and total journey time T such that the criterion J is minimised. The control signal u is constrained itself by the train traction characteristics overbarU(v) leq u leq underbarU(v). ","category":"page"},{"location":"problem/","page":"Problem Statement","title":"Problem Statement","text":"The resistance function r(v) which combines the influences of mechanic and aerodynamic resistances is modeled as r(v) = A + Bv + Cv^2 with ABCgeq0. The speed parameters v_i and v_f have to be strictly positive (it is highly recommended to use values vgeq1) since the state equations contain singularity at v=0. The control limits have to be monotone (overbarU non-increasing, underbarU non-decreasing) with","category":"page"},{"location":"problem/","page":"Problem Statement","title":"Problem Statement","text":"lim_vtoinftyunderbarU(v)=lim_vtoinftyoverbarU(v) = 0","category":"page"},{"location":"problem/","page":"Problem Statement","title":"Problem Statement","text":"It can be shown that the optimal control is a switching control between a small number of modes: Maximum acceleration, holding constant speed, coasting (no braking and no traction) and maximum braking.","category":"page"},{"location":"problem/","page":"Problem Statement","title":"Problem Statement","text":"The output of the implemented solution are the trajectories of t, v and u as well as the location of switching points between the control modes.","category":"page"},{"location":"reference/#Reference","page":"Reference","title":"Reference","text":"","category":"section"},{"location":"reference/","page":"Reference","title":"Reference","text":"","category":"page"},{"location":"reference/","page":"Reference","title":"Reference","text":"Modules = [OptimalTrainControl]","category":"page"},{"location":"reference/#OptimalTrainControl.altitude-Union{Tuple{T}, Tuple{Track, T}} where T<:Real","page":"Reference","title":"OptimalTrainControl.altitude","text":"altitude(track, position)\n\nReturn altitude (in metres) at position on track.\n\n\n\n\n\n","category":"method"},{"location":"reference/#OptimalTrainControl.gradient-Union{Tuple{T}, Tuple{Track, T}} where T<:Real","page":"Reference","title":"OptimalTrainControl.gradient","text":"gradient(track, position)\n\nReturn gradient (in rise over run) at position on track. For example, a gradient of a segment which rises 10 metres over 100 metres of distance has gradient of 0.1.\n\n\n\n\n\n","category":"method"},{"location":"reference/#OptimalTrainControl.segmentize!-Tuple{Track}","page":"Reference","title":"OptimalTrainControl.segmentize!","text":"segmentize!(track)\n\nModify track.x_segments such that its elements mark starts of track parts on which both gradient and speed limit are constant.\n\n\n\n\n\n","category":"method"},{"location":"reference/#OptimalTrainControl.speedlimit-Union{Tuple{T}, Tuple{Track, T}} where T<:Real","page":"Reference","title":"OptimalTrainControl.speedlimit","text":"speedlimit(track, position)\n\nReturn speedlimit (in metres per second) at position on track.\n\n\n\n\n\n","category":"method"},{"location":"","page":"Home","title":"Home","text":"CurrentModule = OptimalTrainControl","category":"page"},{"location":"#OptimalTrainControl.jl-Manual","page":"Home","title":"OptimalTrainControl.jl Manual","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"OptimalTrainControl is a package for optimal speed profile calculation for a single train on a given track.","category":"page"},{"location":"","page":"Home","title":"Home","text":"This site serves as the main source of documentation for the package.","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The package can be installed by entering","category":"page"},{"location":"","page":"Home","title":"Home","text":"using Pkg; Pkg.add(url=\"https://github.com/vtfanta/OptimalTrainControl_v2.jl\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"to the Julia REPL.","category":"page"},{"location":"tutorial/#Time-Optimal-Train-Control-(TOTC)-Example","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"","category":"section"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"Consider the problem of finding the time-optimal speed profile on a flat track of length 3 mathrmkm. At first we need to define a Train and a Track which will form the basis of our problem.","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"Each Train has upper and lower limit of its traction capabilites (specified as a Julia function of speed) and coefficients of a quadratic representing the speed-dependent train's mechanical and aerodynamical resistance.","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"train = Train(\n    v ->  3/v,\n    v -> -3/v,\n    (6.75e-3, 0., 5e-5)\n)","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"The only required argument for a Track is its length, however one can also specify its altitude and points of changing track grade.","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"track = Track(\n    length = 3e3,\n    altitude = 100.,\n    x_gradient = [0.0, 1e3, 1.7e3],\n    gradient = [2e-3, 0., 1e-3]\n)","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"We are now ready to construct a time-optimal train control problem and solve it!","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"prob = TOTCProblem(train, track)\nsol = solve(prob)\nplot(sol)\nplot!(twinx(), track)","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"(Image: TOTC Solution)","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"The colours are showing the control mode which is currently engaged (green for maximum traction, red for maximum braking).","category":"page"},{"location":"tutorial/#Energy-efficient-Train-Control-Problem-Example","page":"Time-Optimal Train Control (TOTC) Example","title":"Energy-efficient Train Control Problem Example","text":"","category":"section"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"In contrast to the previous example, energy-efficient  train control (EETC) problems minimize the criterion","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"mathrmmin J=mathrmmin intlimits_0^X left( fracu+u2 + rhofracu-u2 right)mathrmdx","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"where x is the distance along the track, u is traction effort of the train and rhoin01 is the proportion of mechanical energy recovered during braking. The problem is to minimize the functional J while also satisfying the requirement of the total journey time.","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"Let's construct a 5 mathrmkm flat track,","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"track = Track(\n    length = 5e3\n)","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"and a train (the fourth argument is rho):","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"train = Train(\n    v -> 1/v,\n    v -> -1/v,\n    (1e-2, 0., 1.5e-5),\n    0.6\n)","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"Suppose, we want to arrive at our destination after T=800 mathrms and so we plug this requirement into our definition of an EETC problem:","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"T = 800.\nprob = EETCProblem(T, train, track)\nsol = solve(prob)\nplot(sol)","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"(Image: EETC Solution)","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"The colours specify the currently engaged control mode (green for maximum traction, blue for cruising, gray for coasting and red for maximum braking).","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"One can also inspect the optimal control signal throughout the trip:","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"plot(sol.control, 0, track.length)","category":"page"},{"location":"tutorial/","page":"Time-Optimal Train Control (TOTC) Example","title":"Time-Optimal Train Control (TOTC) Example","text":"(Image: Optimal control)","category":"page"}]
}
